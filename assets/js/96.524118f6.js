(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{432:function(s,a,e){"use strict";e.r(a);var n=e(7),t=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"sed-流编辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed-流编辑"}},[s._v("#")]),s._v(" sed-流编辑")]),s._v(" "),a("p",[s._v("sed（Stream Editor）是一个流式文本编辑器，用于处理和转换文本数据。它按行读取输入，可以对文本进行替换、删除、插入和其他操作，并将结果输出到标准输出。")]),s._v(" "),a("h3",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),a("p",[a("code",[s._v("sed [option] [files]")])]),s._v(" "),a("h3",{attrs:{id:"基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本使用"}},[s._v("#")]),s._v(" 基本使用")]),s._v(" "),a("ol",[a("li",[s._v("执行多个命令, "),a("code",[s._v("-e")]),s._v(" 选项"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed -e "s/hello/hi/;s/dog/cat/" ./file.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("执行命令文件，"),a("code",[s._v("-f")]),s._v(" 选项"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed -f script.sed ./data.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),s._v("执行"),a("code",[s._v('"cat script.sed"')]),s._v("，可看到文件中命令如下所示："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("s/bb/aa/\ns/red/green/\n....\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[s._v("多个命令还可以用下面组合的方式"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed '3{\ns/local/global/\ns/hello/hi/\n....\n}' ./data.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("替换 (s)"),a("br"),s._v("\n（1）字符替换")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' sed "s/cat/dog/" ./a.txt \n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("（2）管线形式字符替换")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' echo "helloworld" | sed "s/hello/welcome/"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("替换选项")])]),s._v(" "),a("ol",[a("li",[s._v("g  :替换所有匹配文本")]),s._v(" "),a("li",[s._v("数字  ：替换第几处匹配")]),s._v(" "),a("li",[s._v("w file  ：将替换结果写入到文件")])]),s._v(" "),a("p",[s._v("示例：将data.txt文件中的匹配结果写入到b.txt中")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "s/dog/cat/w b.txt" ./data.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("指定行替换")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "2,$s/dog/cat/" ./data.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("指定文本行替换")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "/user/s/aaa/bbb/" ./data.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("删除行 (d)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed '3d' ./data.txt         #删除第三行\nsed '3,10d' ./data.txt      #删除3-10区间的行\nsed '/jack/d' ./data.txt    #删除包含“jack”的行\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("插入行 (i) ：指定行前增加新行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "3i\\hello world" ./data.txt     # 将特定行插入到data.txt的第三行前\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("附加行 (a) : 指定行后增加新行")])]),s._v(" "),a("li",[a("p",[s._v("修改行 (c) : 修改整行内容")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "3c\\this is new line" ./data.txt\nsed "/home/c\\this is new line" ./data.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("转换命令 (y): 字符一一映射的替换")])]),s._v(" "),a("li",[a("p",[s._v("打印行 (p)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('#打印替换后的行\nsed -n "s/hello/world/p" ./data.txt\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"gawk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gawk"}},[s._v("#")]),s._v(" gawk")]),s._v(" "),a("blockquote",[a("p",[s._v("awk是一种用于处理和分析文本数据的编程语言。它以行为单位读取输入，并允许指定如何处理每一行。awk使用一种类似于C语言的语法，并提供了许多内置函数和特殊变量，用于访问和操作输入数据。可以使用awk来提取和打印特定列，基于条件进行过滤和计算，以及执行其他高级文本处理任务。")])]),s._v(" "),a("h3",{attrs:{id:"语法-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法-2"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("gawk options program file\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"基本使用-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本使用-2"}},[s._v("#")]),s._v(" 基本使用")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("可选变量")]),s._v(" "),a("p",[s._v("(1) -F :指定分隔符，默认分隔符为空格")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#示例：使用冒号做分隔符\ngawk -F: '{print $1,$2}' /etc/passwd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("(2) -f :用于从文件中读取程序")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#示例:指定myscript.gawk 做程序文件\ngawk -F: -f ./myscript.gawk /etc/passwd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("数据字段变量。\ngawk 默认以空格分割每一行的字段，其中"),a("br"),s._v("\n(1) $0 : 整个文本行"),a("br"),s._v("\n(2) $1 : 文本行第一个字段"),a("br"),s._v("\n(3) $n :文本行第n个字段"),a("br"),s._v("\n示例：")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    #假如存在以下一行文本\n    1 root      20   0  193724   6828   4180 S   0.0  0.4   0:03.76 systemd\n        \n    #使用gwak输出root,193724\n    gawk '{print $2,$5}'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("BEGIN 和 END，它们分别用于程序执行前后的操作，示例如下：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('gawk \'BEGIN{print "now start"}{print $0}END{print "end!"}\' /etc/passwd\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"grep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grep"}},[s._v("#")]),s._v(" grep")]),s._v(" "),a("p",[s._v("grep是一种强大的文本搜索工具，用于在文件中查找特定的模式。它可以接受一个或多个正则表达式作为搜索模式，并在文件中寻找与之匹配的行。")]),s._v(" "),a("h3",{attrs:{id:"语法-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法-3"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),a("p",[a("code",[s._v("grep [选项] pattern [文件名]")])]),s._v(" "),a("h3",{attrs:{id:"基本使用-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本使用-3"}},[s._v("#")]),s._v(" 基本使用")]),s._v(" "),a("ol",[a("li",[s._v("常用选项")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("常用选项：\n　　-E ：开启扩展（Extend）的正则表达式。\n　　-i ：忽略大小写（ignore case）。\n　　-v ：反过来（invert），只打印没有匹配的，而匹配的反而不打印。\n　　-n ：显示行号\n　　-w ：被匹配的文本只能是单词，而不能是单词中的某一部分，如文本中有liker，而我搜寻的只是like，就可以使用-w选项来避免匹配liker\n　　-c ：显示总共有多少行被匹配到了，而不是显示被匹配到的内容，注意如果同时使用-cv选项是显示有多少行没有被匹配到。\n　　-o ：只显示被模式匹配到的字符串。\n　　--color :将匹配到的内容以颜色高亮显示。\n　　-A  n：显示匹配到的字符串所在的行及其后n行，after\n　　-B  n：显示匹配到的字符串所在的行及其前n行，before\n　　-C  n：显示匹配到的字符串所在的行及其前后各n行，context\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("示例")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#单个文件中查找关键词\ngrep 'Class 1' Students.txt\n\n#从多个文件中查找关键词\ngrep \"omc\" /etc/passwd /etc/shadow\n\n#查找多个字符串\ngrep -e 'Class 1' -e Todd Students.txt\n\n#可以将-r开关与grep一起使用，以递归方式搜索目录及其子目录中的所有文件\ngrep -r pattern /directory/to/search\n\n#查找string1 或 string2\ngrep -E 'string1|string2' filename\n\n#上下文的控制\n# A   查询匹配内容的一行之外，后n行的显示\n# B   查询匹配内容的一行之外，前n行的显示\n# C   查询匹配内容的一行之外，显示上下n行\n# 以下为匹配yum 所在行及其后三行\ngrep -n 'yum' -A 3 logs_bak.txt\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h2",{attrs:{id:"正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正则表达式"}},[s._v("#")]),s._v(" 正则表达式")]),s._v(" "),a("p",[s._v("正则表达式是一种模式匹配语言，用于在文本中搜索和匹配特定的字符模式。")]),s._v(" "),a("h3",{attrs:{id:"基本正则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本正则"}},[s._v("#")]),s._v(" 基本正则")]),s._v(" "),a("ol",[a("li",[s._v("行首(^)")]),s._v(" "),a("li",[s._v("行尾($)")]),s._v(" "),a("li",[s._v("点号(.) :匹配换行符外的任意单个字符")]),s._v(" "),a("li",[s._v("字符组([]) :匹配希望出现在方括号中的字符"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "s/[aA]rm/ban/" ./data.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("排除型字符组,即匹配字符组外的字符，表现形式为字符组前面加 "),a("code",[s._v("^")]),s._v(" 字符。示例如下："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed -n '/[^abc]at/p' ./data.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("区间:用来匹配某个区间的字符，表现形式通常为区间首末字符中添加 "),a("code",[s._v("-")]),s._v(" 字符，示例如下："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed -n '/[0-6]ye/p' ./data.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("星号(*):"),a("br"),s._v("\n字符后面放置星号表示该字符必须在匹配模式的文本中出现0次或多次，示例如下："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed -n '/u*nion/p' ./data.txt\n#可以匹配到\nunion aaab\nuunion abaf\nanion abga\n\n#不能匹配到\nuonion aiitap\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"扩展正则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展正则"}},[s._v("#")]),s._v(" 扩展正则")]),s._v(" "),a("p",[a("em",[s._v("该部分适用于gwak,但不支持sed")])]),s._v(" "),a("ol",[a("li",[s._v("问号(?) :表示?前面的字符可以出现0次或1次，示例"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("'/a?bp/'\n#可以匹配到\nabp kdkdkkd\naabp ldllgld\n\n#不可匹配到\naaabp jfallga\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[s._v("加号(+):表示+前面字符出现1次或多次，至少需要出现1次")]),s._v(" "),a("li",[s._v("管道符号( | ) ：匹配其中一个模式")])])])}),[],!1,null,null,null);a.default=t.exports}}]);