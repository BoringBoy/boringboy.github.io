(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{401:function(s,a,e){"use strict";e.r(a);var t=e(7),n=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"dm数据库使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dm数据库使用"}},[s._v("#")]),s._v(" DM数据库使用")]),s._v(" "),a("h2",{attrs:{id:"连接dm数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接dm数据库"}},[s._v("#")]),s._v(" 连接DM数据库")]),s._v(" "),a("ol",[a("li",[s._v("查看DM数据库状态")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 根据注册时的service名称查询,以下命令供参考\nsystemctl status DmServiceDMSERVER01\n\n# 启动DM数据库\nsystemctl start DmServiceDMSERVER01\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("使用DM管理工具进行连接")])]),s._v(" "),a("ul",[a("li",[s._v("新建连接")])]),s._v(" "),a("p",[s._v("在管理工具左侧对象导航窗口，右键--连接，在弹出的窗口中填写DM数据库相关信息,然后点击确定即可。")]),s._v(" "),a("p",[s._v("注：数据库用户SYSDBA 的默认密码为SYSDBA")]),s._v(" "),a("h2",{attrs:{id:"管理dm数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#管理dm数据库"}},[s._v("#")]),s._v(" 管理DM数据库")]),s._v(" "),a("ol",{attrs:{start:"0"}},[a("li",[s._v("查询表空间")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("SELECT * FROM dba_data_files t;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",[a("li",[s._v("创建表空间")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 示例\n# 创建名为jg_cas_space的表空间，大小为300M，该空间可以每次5M的大小自动扩展至1500M\n\ncreate tablespace \nJG_CAS_SPACE\ndatafile '/home/dmdba/dmdb_data/DAMENG/JG_CAS.DBF' size 300\nautoextend on next 5 maxsize 1500;\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("创建用户/模式")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 创建jg_cas用户，指定密码为duxingzhe\n# 限制其活跃时间为180天，默认表空间、临时表空间分别为jg_cas_space、TEMP....\n\ncreate user JG_CAS\n  identified by duxingzhe\n  limit PASSWORD_LIFE_TIME 180\n  default tablespace JG_CAS_SPACE\n  temporary tablespace TEMP;\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("给用户授权")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 授予权限\n# 连接数据库权限\ngrant connect,resource to jg_cas;\n# 创建表权限\ngrant create table to jg_cas;\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("模式删除")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#--删除模式ryh1。选项restrict为判断当前模式不为空时会无法删除。Cascade为级联删除当前模式以及属于该模式下的所有对象。\ndrop schema ryh1 restrict/cascade;\n\n# 删除用户\ndrop user jg_cas cascade;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"其它"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[s._v("#")]),s._v(" 其它")]),s._v(" "),a("ol",[a("li",[s._v("达梦密码策略更改")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#查看\nSelect * from v$dm_ini where para_name='PWD_POLICY';\n\n#修改密码策略为1 禁止与用户名相同\nSP_SET_PARA_VALUE(1,'PWD_POLICY',1);\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("注：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("PWD_POLICY 设置系统默认口令策略 默认值为2 动态，系统级参数")]),s._v(" "),a("p",[s._v("0：无策略")]),s._v(" "),a("p",[s._v("1：禁止与用户名相同")]),s._v(" "),a("p",[s._v("2：口令长度不小于9")]),s._v(" "),a("p",[s._v("4：至少包含1个大写字母（A-Z）")]),s._v(" "),a("p",[s._v("8: 至少包含1个数字（0-9）")]),s._v(" "),a("p",[s._v('16：至少包含1个标点符号（在英文输入法状态下，除"和空格外的所有符号）')]),s._v(" "),a("p",[s._v("若为其他数字，则表示配置值的和，如3=1+2，表示同时启用第1项和第2项策略。\n当参数COMPATIBLE_MODE=1（等于1表示兼容SQL92标准）时，PWD_POLICY的实际值均为0")])])]),s._v(" "),a("h2",{attrs:{id:"数据库数据迁移"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库数据迁移"}},[s._v("#")]),s._v(" 数据库数据迁移")]),s._v(" "),a("ul",[a("li",[a("p",[s._v('涉及工具："DM数据迁移工具"')])]),s._v(" "),a("li",[a("p",[s._v("迁移方法：")]),s._v(" "),a("p",[s._v("首先需要打开达梦自带的DM数据迁移工具，然后再依次进行以下的步骤：")]),s._v(" "),a("p",[s._v("(1)在工具左侧窗口中，右键--选择“新建迁移”，然后填写迁移名称（如迁移A）和迁移说明；")]),s._v(" "),a("p",[s._v('(2)双击打开步骤1中新建的工程-迁移A，然后右键该工程下属的"迁移"目录，选择功能--"新建迁移"，再完善迁移信息；')]),s._v(" "),a("p",[s._v("(3)步骤(2)完成后，将出现迁移工具的引导信息，单击下方的下一步，然后选择迁移方式，如oracle -> DM，然后再单击下一步；")]),s._v(" "),a("p",[s._v("(4)填写数据源的数据库信息，然后选择下一步；")]),s._v(" "),a("p",[s._v("(5)填写目标所在数据库信息，选择下一步")]),s._v(" "),a("p",[s._v("(6)选择迁移对象，再下一步即可。")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);