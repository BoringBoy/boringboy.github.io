(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{419:function(a,n,s){"use strict";s.r(n);var e=s(7),t=Object(e.a)({},(function(){var a=this,n=a._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h2",{attrs:{id:"简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),n("p",[a._v("conda 分为 anaconda 和 miniconda，anaconda 是一个包含了许多常用库的集合版本，miniconda 是精简版本（只包含conda、pip、zlib、python 以及它们所需的包）。")]),a._v(" "),n("p",[a._v("Anaconda是一个开源的Python发行版，集成了Python解释器、一些常用的科学计算库和工具。通过它可以很方便地安装python以及其它一些语言的库，更重要的是可以为项目创建虚拟环境，隔离多个项目的占用的系统资源和依赖。")]),a._v(" "),n("p",[n("a",{attrs:{href:"https://anaconda.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Anaconda官网"),n("OutboundLink")],1)]),a._v(" "),n("h2",{attrs:{id:"使用虚拟环境的意义"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用虚拟环境的意义"}},[a._v("#")]),a._v(" 使用虚拟环境的意义")]),a._v(" "),n("p",[a._v("在使用Python语言时，通过pip命令来安装第三方包，但是由于pip的特性，系统中只能安装每个包的一个版本。但是在实际项目开发中，不同项目可能需要第三方包的不同版本，迫使我们需要根据实际需求不断进行更新或卸载相应的包，而如果我们直接使用本地的Python环境，会导致整体的开发环境相当混乱而不易管理，这时候我们就需要开辟一个独立干净的空间进行开发和部署，也就是需要用到虚拟环境。")]),a._v(" "),n("p",[a._v("所谓虚拟环境是一个包含了特定 Python 解析器以及一些软件包的自包含目录，不同的应用程序可以使用不同的虚拟环境，从而解决了依赖冲突问题，而且虚拟环境中只需要安装应用相关的包或者模块，减轻了包管理的负担")]),a._v(" "),n("h2",{attrs:{id:"它与venv的对比-如何选择"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#它与venv的对比-如何选择"}},[a._v("#")]),a._v(" 它与venv的对比？如何选择？")]),a._v(" "),n("p",[a._v("Venv是Python的内置模块，通过它也可以创建虚拟环境。Venv与Anaconda的区别主要在于：")]),a._v(" "),n("ul",[n("li",[n("p",[a._v("包管理的方式不同：")]),a._v(" "),n("p",[a._v("venv创建的虚拟环境使用pip来安装和管理包。Conda创建的虚拟环境使用Conda自己的包管理系统来安装和管理包,它既可以使用conda install来安装包，也可以使用pip来安装包。")])]),a._v(" "),n("li",[n("p",[a._v("跨平台支持有差异：")]),a._v(" "),n("p",[a._v("通常，venv更适用于纯python项目，而conda是一个支持多种编程语言(如Python, R, Ruby, Lua, Scala, Java, JavaScript, C/C++, FORTRAN)的跨平台的包管理系统，可以在Windows、Linux和macOS等操作系统上使用。")])]),a._v(" "),n("li",[n("p",[a._v("对python版本的依赖有差别：")]),a._v(" "),n("p",[a._v("conda相比virtualenv/venv最重要的一点，因为在用virtualenv/venv时环境中Python的版本受系统Python版本的限制，而在使用conda时，环境里Python的版本则不受系统Python版本的限制")])])]),a._v(" "),n("p",[a._v("总结：venv创建的虚拟环境通常更轻量级,Conda更适合于复杂的项目，特别是涉及到多种语言或非Python依赖项的项目。")]),a._v(" "),n("h2",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),n("h3",{attrs:{id:"windows版本安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#windows版本安装"}},[a._v("#")]),a._v(" windows版本安装")]),a._v(" "),n("ol",[n("li",[n("p",[a._v("选择合适的版本")])]),a._v(" "),n("li",[n("p",[a._v("运行对应的exe程序，根据程序引导，一直next即可")])]),a._v(" "),n("li",[n("p",[a._v("手动配置Conda的环境变量")])])]),a._v(" "),n("p",[a._v("需要添加的环境变量如下所示(E:\\Anaconda 为AnaConda安装时选择的目录，视情况修改)：")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("E:\\Anaconda \nE:\\Anaconda\\Scripts \nE:\\Anaconda\\Library\\mingw-w64\\bin\nE:\\Anaconda\\Library\\usr\\bin \nE:\\Anaconda\\Library\\bin\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("h2",{attrs:{id:"使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),n("ul",[n("li",[a._v("查看conda版本")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("conda --version\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("h3",{attrs:{id:"环境操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境操作"}},[a._v("#")]),a._v(" 环境操作")]),a._v(" "),n("ul",[n("li",[a._v("为python项目创建conda环境")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("# env_name为自定义环境名称，而后是包信息\n# 示例，创建一个python版本3.8、名为env_name的的虚拟环境\n\nconda create -n env_name python=3.8\n\n#如果不指定后面的python=3.8 则只是一个系统的基本模块\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br")])]),n("ul",[n("li",[a._v("进入和退出环境")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("# 进入环境(首次安装完成需要重启终端使其生效)\nconda activate env_name  \t\t\n\n# 退出环境\nconda deactivate\t\t\t\t\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("ul",[n("li",[a._v("当前存在的conda虚拟环境")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("conda env list\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("ul",[n("li",[a._v("删除虚拟环境")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("#删除指定环境\nconda env remove -n env_name\n\n#删除所有环境\nconda remove -n env_name --all\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("ul",[n("li",[a._v("重命名环境")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("# 将 py3 重命名为 torch\nconda create -n torch --clone py3  \t\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("h3",{attrs:{id:"源操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#源操作"}},[a._v("#")]),a._v(" 源操作")]),a._v(" "),n("ul",[n("li",[a._v("更新源,并在用户目录下生成 "),n("code",[a._v(".condarc")]),a._v("文件")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("conda config --set show_channel_urls yes\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("ul",[n("li",[a._v("查看当前下载源")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("conda config --show channels\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("ul",[n("li",[a._v("添加镜像源")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("# url替换为源地址\nconda config --add channels <url>\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("ul",[n("li",[a._v("删除镜像源")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("#替换url\n#删除单个源\nconda config--remove channels <url>\n\n#删除所有镜像源，恢复默认\nconda config --remove-key channels\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br")])]),n("h3",{attrs:{id:"包-库操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#包-库操作"}},[a._v("#")]),a._v(" 包/库操作")]),a._v(" "),n("ul",[n("li",[a._v("查找")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("#替换lib_name为目标库/包\nconda search <lib_name>\n\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br")])]),n("ul",[n("li",[a._v("安装")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("conda install <lib_name>\n\n#示例\nconda install torch=1.16\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br")])]),n("ul",[n("li",[a._v("离线安装包")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("# path 替换为 `.tar.bz2`文件所在路径和文件名\nconda install --use-local <path>\n\n# 示例\nconda install --use-local Z:\\down_tmp\\zip\\win-64_pytorch-2.1.1-py3.8_cuda11.8_cudnn8_0.tar.bz2\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("ul",[n("li",[a._v("查看已安装的库")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("# 查看 env_name下的库\nconda list -n env_name  \t\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("ul",[n("li",[a._v("更新已安装的库")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("#单个更新\nconda update <lib_name>\n\n# 全部更新\nconda update --all \n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("ul",[n("li",[a._v("删除包/库")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("conda remove --name env_name <lib_name>\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("h2",{attrs:{id:"常用源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用源"}},[a._v("#")]),a._v(" 常用源")]),a._v(" "),n("ul",[n("li",[a._v("清华源")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\nhttps://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\nhttps://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\nhttps://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br")])]),n("ul",[n("li",[a._v("中国科学技术大学")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("https://mirrors.ustc.edu.cn/anaconda/pkgs/main/\nhttps://mirrors.ustc.edu.cn/anaconda/pkgs/free/\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("ul",[n("li",[a._v("上海交通大学源")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("https://mirrors.sjtug.sjtu.edu.cn/anaconda/pkgs/main/\nhttps://mirrors.sjtug.sjtu.edu.cn/anaconda/pkgs/free/\nhttps://mirrors.sjtug.sjtu.edu.cn/anaconda/cloud/conda-forge/\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br")])]),n("h3",{attrs:{id:"查看、编辑源文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看、编辑源文件"}},[a._v("#")]),a._v(" 查看、编辑源文件")]),a._v(" "),n("ol",[n("li",[a._v("终端输入下面的命令，在当前目录下生成一个"),n("code",[a._v(".condarc")]),a._v("的文件")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("conda config --set show_channel_urls yes\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[a._v("编辑文件")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("h3",{attrs:{id:"源模版"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#源模版"}},[a._v("#")]),a._v(" 源模版")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("channels:\n  - defaults\nshow_channel_urls: true\ndefault_channels:\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2\ncustom_channels:\n  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  pytorch-lts: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);